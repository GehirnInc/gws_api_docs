.. _records:

レコード
========

.. contents:: 目次
   :depth: 3
   :backlinks: none

.. _object:

オブジェクト
------------

.. code-block:: json

   {
     "type": "object",
     "properties": {
       "id": {
         "type": "string",
         "minLength": 36,
         "maxLength": 36
       },
       "name": {
         "type": "string",
         "minLength": 1,
         "maxLength": 256
       },
       "type": {
         "type": "string",
         "minLength": 1,
         "maxLength": 5
       },
       "enable_alias": {
         "type": "boolean"
       },
       "alias_to": {
         "type": "string",
         "minLength": 1,
         "maxLength": 256
       },
       "ttl": {
         "type": "integer",
         "minimum": 30,
         "maximum": 2147483647
       },
       "records": {
         "type": "array",
         "minItems": 1,
         "items": {
           "type": "object",
           "properties": {
             "prio": {
               "type": "integer",
               "minimum": 0,
               "maximum": 32767
             },

             "address": {
               "type": "string",
               "minLength": 3,
               "maxLength": 39
             },

             "cname": {
               "type": "string",
               "minLength": 1,
               "maxLength": 256
             },

             "exchange": {
               "type": "string",
               "minLength": 1,
               "maxLength": 256
             },

             "nsdname": {
               "type": "string",
               "minLength": 1,
               "maxLength": 256
             },

             "target": {
               "type": "string",
               "minLength": 1,
               "maxLength": 256
             },
             "port": {
               "type": "integer",
               "minimum": 0,
               "maximum": 65535
             },
             "weight": {
               "type": "integer",
               "minimum": 0,
               "maximum": 65535
             },

             "data": {
               "type": "string",
               "minLength": 1,
               "maxLength": 64000
             }
           }
         }
       }
     }
   }

.. _object-properties:

プロパティ
~~~~~~~~~~

+--------------+---------+-----------------------------------------------------------------------+
| プロパティ   | 型      | 説明                                                                  |
+==============+=========+=======================================================================+
| id           | string  | レコードを一意に特定する ID                                           |
+--------------+---------+-----------------------------------------------------------------------+
| name         | string  | ホストネーム                                                          |
+--------------+---------+-----------------------------------------------------------------------+
| type         | string  | A 、 AAAA 、 CNAME 、 MX 、 NS 、 SRV 、 TXT いずれかのリソースタイプ |
+--------------+---------+-----------------------------------------------------------------------+
| enable_alias | boolean | エイリアス機能状況                                                    |
+--------------+---------+-----------------------------------------------------------------------+
| alias_to     | string  | エイリアス先                                                          |
+--------------+---------+-----------------------------------------------------------------------+
| ttl          | integer | TTL                                                                   |
+--------------+---------+-----------------------------------------------------------------------+
| records      | array   | リソースタイプに応じたレコードのリスト                                |
+--------------+---------+-----------------------------------------------------------------------+

.. rubric:: A リソースレコード

+-----------------+--------+---------------+
| プロパティ      | 型     | 説明          |
+=================+========+===============+
| records.address | string | IPv4 アドレス |
+-----------------+--------+---------------+

.. rubric:: AAAA リソースレコード

+-----------------+--------+---------------+
| プロパティ      | 型     | 説明          |
+=================+========+===============+
| records.address | string | IPv6 アドレス |
+-----------------+--------+---------------+

.. rubric:: CNAME リソースレコード

+---------------+--------+-------+
| プロパティ    | 型     | 説明  |
+===============+========+=======+
| records.cname | string | CNAME |
+---------------+--------+-------+

.. rubric:: MX リソースレコード

+------------------+---------+--------------------------------------+
| プロパティ       | 型      | 説明                                 |
+==================+=========+======================================+
| records.prio     | integer | プライオリティ                       |
+------------------+---------+--------------------------------------+
| records.exchange | string  | メールエクスチェンジのドメインネーム |
+------------------+---------+--------------------------------------+

.. rubric:: NS リソースレコード

+-----------------+--------+--------------------------------+
| プロパティ      | 型     | 説明                           |
+=================+========+================================+
| records.nsdname | string | ネームサーバーのドメインネーム |
+-----------------+--------+--------------------------------+

.. rubric:: SRV リソースレコード

+----------------+---------+----------------------------+
| プロパティ     | 型      | 説明                       |
+================+=========+============================+
| records.target | string  | ターゲットのドメインネーム |
+----------------+---------+----------------------------+
| records.port   | integer | ポート番号                 |
+----------------+---------+----------------------------+
| records.weight | integer | ウェイト                   |
+----------------+---------+----------------------------+

.. rubric:: TXT リソースレコード

+--------------+--------+--------+
| プロパティ   | 型     | 説明   |
+==============+========+========+
| records.data | string | データ |
+--------------+--------+--------+

.. _create:

作成
----

指定した\ :doc:`versions`\ に新しいレコードを追加します。

.. _create-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   POST /dns/v1/zones/:zone_id/versions/:version_id/records HTTP/1.1
   Host: api.gis.gehirn.jp

.. _create-request-parameters:

パラメーター
""""""""""""

+--------------+-----------------------------------------+
| パラメーター | 値                                      |
+==============+=========================================+
| zone_id      | レコードを追加する\ :doc:`zones`\ の ID |
+--------------+-----------------------------------------+
| version_id   | レコードを追加するバージョンの ID       |
+--------------+-----------------------------------------+

.. _create-request-body:

リクエストボディ
""""""""""""""""

追加したい |レコードオブジェクト| をリクエストしてください。

.. _create-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

追加された |レコードオブジェクト| が返ります。

.. _list:

一覧
----

指定した\ :doc:`versions`\ に存在するすべてのレコードを取得します。

.. _list-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   GET /dns/v1/zones/:zone_id/versions/:version_id/records HTTP/1.1
   Host: api.gis.gehirn.jp

.. _list-request-parameters:

パラメーター
""""""""""""

+--------------+---------------------------------------------+
| パラメーター | 値                                          |
+==============+=============================================+
| zone_id      | 取得するレコードを含む\ :doc:`zones`\ の ID |
+--------------+---------------------------------------------+
| version_id   | 取得するレコードを含むバージョンの ID       |
+--------------+---------------------------------------------+

.. _list-request-body:

リクエストボディ
""""""""""""""""

リクエストボディは必要ありません。

.. _list-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

ひとつ以上の\ |レコードオブジェクト|\ を含む JSON array が返ります。

.. _get:

取得
----

指定した\ :doc:`versions`\ に存在する個別のレコードを取得します。

.. _get-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   GET /dns/v1/zones/:zone_id/versions/:version_id/records/:record_id HTTP/1.1
   Host: api.gis.gehirn.jp

.. _get-request-parameters:

パラメーター
""""""""""""

+--------------+---------------------------------------------+
| パラメーター | 値                                          |
+==============+=============================================+
| zone_id      | 取得するレコードを含む\ :doc:`zones`\ の ID |
+--------------+---------------------------------------------+
| version_id   | 取得するレコードを含むバージョンの ID       |
+--------------+---------------------------------------------+
| record_id    | 取得するレコードの ID                       |
+--------------+---------------------------------------------+

.. _get-request-body:

リクエストボディ
""""""""""""""""

リクエストボディは必要ありません。

.. _get-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

指定した\ |レコードオブジェクト|\ が返ります。

.. _put:

編集
----

指定した\ :doc:`versions`\ に存在する個別のレコードを編集します。

.. _put-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   PUT /dns/v1/zones/:zone_id/versions/:version_id/records/:record_id HTTP/1.1
   Host: api.gis.gehirn.jp

.. _put-request-parameters:

リクエストパラメータ
""""""""""""""""""""

+--------------+---------------------------------------------+
| パラメーター | 値                                          |
+==============+=============================================+
| zone_id      | 編集するレコードを含む\ :doc:`zones`\ の ID |
+--------------+---------------------------------------------+
| version_id   | 編集するレコードを含むバージョンの ID       |
+--------------+---------------------------------------------+
| record_id    | 編集するレコードの ID                       |
+--------------+---------------------------------------------+

.. _put-request-body:

リクエストボディ
""""""""""""""""

編集した\ |レコードオブジェクト|\ をリクエストしてください。

.. _put-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

編集された\ |レコードオブジェクト|\ が返ります。

.. _delete:

削除
----

指定した\ :doc:`versions`\ から個別のレコードを削除します。

.. _delete-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   DELETE /dns/v1/zones/:zone_id/versions/:version_id/records/:record_id HTTP/1.1
   Host: api.gis.gehirn.jp

.. _delete-request-parameters:

パラメーター
""""""""""""

+--------------+---------------------------------------------+
| パラメーター | 値                                          |
+==============+=============================================+
| zone_id      | 削除するレコードを含む\ :doc:`zones`\ の ID |
+--------------+---------------------------------------------+
| version_id   | 削除するレコードを含むバージョンの ID       |
+--------------+---------------------------------------------+
| record_id    | 削除するレコードの ID                       |
+--------------+---------------------------------------------+

.. _delete-request-body:

リクエストボディ
""""""""""""""""

リクエストボディは必要ありません。

.. _delete-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

削除された\ |レコードオブジェクト|\ が返ります。

.. |レコードオブジェクト| replace:: `レコードオブジェクト <object_>`_
