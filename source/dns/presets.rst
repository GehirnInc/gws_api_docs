.. _presets:


マイグレーション
================

.. contents:: 目次
   :depth: 3
   :backlinks: none

.. _object:

オブジェクト
------------

.. code-block:: json

   {
     "type": "object",
     "properties": {
       "id": {
         "type": "string",
         "minLength": 36,
         "maxLength": 36
       },
       "name": {
         "type": "string",
         "minLength": 1,
         "maxLength": 36
       },
       "prev_version_id": {
         "type": "string",
         "minLength": 36,
         "maxLength": 36
       },
       "next_version_id": {
         "type": "string",
         "minLength": 36,
         "maxLength": 36
       },
       "applied_at": {
         "type": "string"
       },
       "created_at": {
         "type": "string"
       },
       "completed_at": {
         "type": "string"
       },
       "is_completed": {
         "type": "boolean"
       }
     }
   }

.. _object-properties:

プロパティ
~~~~~~~~~~

+-----------------+---------+------------------------------------------------+
| プロパティ      | 型      | 説明                                           |
+=================+=========+================================================+
| id              | string  | マイグレーションを一意に識別する ID            |
+-----------------+---------+------------------------------------------------+
| name            | string  | マイグレーションを説明する任意の名前           |
+-----------------+---------+------------------------------------------------+
| prev_version_id | string  | マイグレーション前の\ :doc:`versions`\ の ID   |
+-----------------+---------+------------------------------------------------+
| next_version_id | string  | マイグレーション後の\ :doc:`versions`\ の ID   |
+-----------------+---------+------------------------------------------------+
| applied_at      | string  | ISO8601 で表現されるマイグレーションの実行日時 |
+-----------------+---------+------------------------------------------------+
| created_at      | string  | ISO8601 で表現されるマイグレーションの作成日時 |
+-----------------+---------+------------------------------------------------+
| completed_at    | string  | ISO8601 で表現されるマイグレーションの完了日時 |
+-----------------+---------+------------------------------------------------+
| is_completed    | boolean | マイグレーションの完了状況                     |
+-----------------+---------+------------------------------------------------+

.. _post:

作成
----

指定した\ :doc:`zones`\ に新しいマイグレーションを作成します。

.. _post-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   POST /dns/v1/zones/:zone_id/presets HTTP/1.1
   Host: api.gis.gehirn.jp

.. _post-request-parameters:

パラメーター
""""""""""""

+--------------+---------------------------------------+
| パラメーター | 値                                    |
+==============+=======================================+
| zone_id      | マイグレーションを作成するゾーンの ID |
+--------------+---------------------------------------+

.. -post-request-body:

リクエストボディ
""""""""""""""""

作成したい\ |マイグレーションオブジェクト|\ をリクエストしてください。

.. _post-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

作成された\ |マイグレーションオブジェクト|\ が返ります。

.. _list:

一覧
----

指定した\ :doc:`zones`\ に存在するすべてのマイグレーションを取得します。

.. _list-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   GET /dns/v1/zones/:zone_id/presets HTTP/1.1
   Host: api.gis.gehirn.jp

.. _list-request-parameters:

パラメーター
""""""""""""

+--------------+-------------------------------------------+
| パラメーター | 値                                        |
+==============+===========================================+
| zone_id      | 取得するマイグレーションを含むゾーンの ID |
+--------------+-------------------------------------------+

.. -list-request-body:

リクエストボディ
""""""""""""""""

リクエストボディは必要ありません。

.. _list-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

ひとつ以上の\ |マイグレーションオブジェクト|\ を要素とする JSON array が返ります。

.. _get:

取得
----

指定した\ :doc:`zones`\ に存在する個別のマイグレーションを取得します。

.. _get-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   GET /dns/v1/zones/:zone_id/presets/:preset_id HTTP/1.1
   Host: api.gis.gehirn.jp

.. _get-request-parameters:

パラメーター
""""""""""""

+--------------+-------------------------------------------+
| パラメーター | 値                                        |
+==============+===========================================+
| zone_id      | 取得するマイグレーションを含むゾーンの ID |
+--------------+-------------------------------------------+
| preset_id    | 取得するマイグレーションの ID             |
+--------------+-------------------------------------------+

.. -get-request-body:

リクエストボディ
""""""""""""""""

リクエストボディは必要ありません。

.. _get-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

指定した\ |マイグレーションオブジェクト|\ が返ります。

.. _delete:

削除
----

指定した\ :doc:`zones`\ から個別のマイグレーションを削除します。

.. _delete-request:

HTTP リクエスト
~~~~~~~~~~~~~~~

.. code-block:: http

   DELETE /dns/v1/zones/:zone_id/presets/:preset_id HTTP/1.1
   Host: api.gis.gehirn.jp

.. _delete-request-parameters:

パラメーター
""""""""""""

+--------------+-------------------------------------------+
| パラメーター | 値                                        |
+==============+===========================================+
| zone_id      | 削除するマイグレーションを含むゾーンの ID |
+--------------+-------------------------------------------+
| preset_id    | 削除するマイグレーションの ID             |
+--------------+-------------------------------------------+

.. -delete-request-body:

リクエストボディ
""""""""""""""""

リクエストボディは必要ありません。

.. _delete-response:

HTTP レスポンス
~~~~~~~~~~~~~~~

削除された\ |マイグレーションオブジェクト|\ が返ります。

.. |マイグレーションオブジェクト| replace:: `マイグレーションオブジェクト <object_>`_
